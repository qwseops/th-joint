Drupal.omega=Drupal.omega||{},function(e){var a,r;Drupal.omega.getCurrentLayout=function(){return a},Drupal.omega.getPreviousLayout=function(){return r},Drupal.omega.crappyBrowser=function(){return e.browser.msie&&parseInt(e.browser.version,10)<9},Drupal.omega.checkLayout=function(a){if(Drupal.settings.omega.layouts.queries.hasOwnProperty(a)&&Drupal.settings.omega.layouts.queries[a]){var r=Drupal.omega.checkQuery(Drupal.settings.omega.layouts.queries[a]);if(!r&&a==Drupal.settings.omega.layouts.primary){var o=e('<div id="omega-check-query"></div>').prependTo("body");o.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>'),o.append('\x3c!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-check-query { z-index: 100; }</style><![endif]--\x3e'),r=100==parseInt(o.css("z-index")),o.remove()}return r}return!1},Drupal.omega.checkQuery=function(a){var r=e('<div id="omega-check-query"></div>').prependTo("body");r.append('<style media="all">#omega-check-query { position: relative; z-index: -1; }</style>'),r.append('<style media="'+a+'">#omega-check-query { z-index: 100; }</style>');var o=100==parseInt(r.css("z-index"));return r.remove(),o},Drupal.behaviors.omegaMediaQueries={attach:function(o){e("body",o).once("omega-mediaqueries",(function(){var o=e.inArray(Drupal.settings.omega.layouts.primary,Drupal.settings.omega.layouts.order),i=e('<div id="omega-media-query-dummy"></div>').prependTo("body");for(var t in i.append('<style media="all">#omega-media-query-dummy { position: relative; z-index: -1; }</style>'),i.append('\x3c!--[if (lt IE 9)&(!IEMobile)]><style media="all">#omega-media-query-dummy { z-index: '+o+"; }</style><![endif]--\x3e"),Drupal.settings.omega.layouts.order)i.append('<style media="'+Drupal.settings.omega.layouts.queries[Drupal.settings.omega.layouts.order[t]]+'">#omega-media-query-dummy { z-index: '+t+"; }</style>");e(window).bind("resize.omegamediaqueries",(function(){var o;o=i.css("z-index"),o=parseInt(o),r=a,a=Drupal.settings.omega.layouts.order.hasOwnProperty(o)?Drupal.settings.omega.layouts.order[o]:"mobile",r!=a&&(e("body").removeClass("responsive-layout-"+r).addClass("responsive-layout-"+a),e.event.trigger("responsivelayout",{from:r,to:a}))})).load((function(){e(this).trigger("resize.omegamediaqueries")}))}))}}}(jQuery);