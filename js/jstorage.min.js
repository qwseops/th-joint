!function(){function e(){var e="{}";if("userDataBehavior"==j){f.load("jStorage");try{e=f.getAttribute("jStorage")}catch(e){}try{m=f.getAttribute("jStorage_update")}catch(e){}d.jStorage=e}o(),s(),g()}function t(){var t;clearTimeout(h),h=setTimeout((function(){if("localStorage"==j||"globalStorage"==j)t=d.jStorage_update;else if("userDataBehavior"==j){f.load("jStorage");try{t=f.getAttribute("jStorage_update")}catch(e){}}if(t&&t!=m){m=t;var a,o=_.parse(_.stringify(l.__jstorage_meta.CRC32));e(),a=_.parse(_.stringify(l.__jstorage_meta.CRC32));var n,i=[],s=[];for(n in o)o.hasOwnProperty(n)&&(a[n]?o[n]!=a[n]&&"2."==String(o[n]).substr(0,2)&&i.push(n):s.push(n));for(n in a)a.hasOwnProperty(n)&&(o[n]||i.push(n));r(i,"updated"),r(s,"deleted")}}),25)}function r(e,t){var r,a,o,n;if(e=[].concat(e||[]),"flushed"==t){for(r in e=[],w)w.hasOwnProperty(r)&&e.push(r);t="deleted"}for(r=0,o=e.length;r<o;r++){if(w[e[r]])for(a=0,n=w[e[r]].length;a<n;a++)w[e[r]][a](e[r],t);if(w["*"])for(a=0,n=w["*"].length;a<n;a++)w["*"][a](e[r],t)}}function a(){var e=(+new Date).toString();if("localStorage"==j||"globalStorage"==j)try{d.jStorage_update=e}catch(e){j=!1}else"userDataBehavior"==j&&(f.setAttribute("jStorage_update",e),f.save("jStorage"));t()}function o(){if(d.jStorage)try{l=_.parse(String(d.jStorage))}catch(e){d.jStorage="{}"}else d.jStorage="{}";S=d.jStorage?String(d.jStorage).length:0,l.__jstorage_meta||(l.__jstorage_meta={}),l.__jstorage_meta.CRC32||(l.__jstorage_meta.CRC32={})}function n(){if(l.__jstorage_meta.PubSub){for(var e=+new Date-2e3,t=0,r=l.__jstorage_meta.PubSub.length;t<r;t++)if(l.__jstorage_meta.PubSub[t][0]<=e){l.__jstorage_meta.PubSub.splice(t,l.__jstorage_meta.PubSub.length-t);break}l.__jstorage_meta.PubSub.length||delete l.__jstorage_meta.PubSub}try{d.jStorage=_.stringify(l),f&&(f.setAttribute("jStorage",d.jStorage),f.save("jStorage")),S=d.jStorage?String(d.jStorage).length:0}catch(e){}}function i(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return!0}function s(){var e,t,o,i,g=1/0,u=!1,_=[];if(clearTimeout(c),l.__jstorage_meta&&"object"==typeof l.__jstorage_meta.TTL){for(t in e=+new Date,o=l.__jstorage_meta.TTL,i=l.__jstorage_meta.CRC32,o)o.hasOwnProperty(t)&&(o[t]<=e?(delete o[t],delete i[t],delete l[t],u=!0,_.push(t)):o[t]<g&&(g=o[t]));1/0!=g&&(c=setTimeout(s,Math.min(g-e,2147483647))),u&&(n(),a(),r(_,"deleted"))}}function g(){var e;if(l.__jstorage_meta.PubSub){var t,r=b,a=[];for(e=l.__jstorage_meta.PubSub.length-1;0<=e;e--)(t=l.__jstorage_meta.PubSub[e])[0]>b&&(r=t[0],a.unshift(t));for(e=a.length-1;0<=e;e--){t=a[e][1];var o=a[e][2];if(p[t])for(var n=0,i=p[t].length;n<i;n++)try{p[t][n](t,_.parse(_.stringify(o)))}catch(e){}}b=r}}var u=window.jQuery||window.$||(window.$={}),_={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||u.parseJSON||u.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||u.toJSON};if("function"!=typeof _.parse||"function"!=typeof _.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var c,l={__jstorage_meta:{CRC32:{}}},d={jStorage:"{}"},f=null,S=0,j=!1,w={},h=!1,m=0,p={},b=+new Date,y={isXML:function(e){return!!(e=(e?e.ownerDocument||e:0).documentElement)&&"HTML"!==e.nodeName},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(e){}}return!1},decode:function(e){var t="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return!!t&&(e=t.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),!!this.isXML(e)&&e)}};u.jStorage={version:"0.4.13",set:function(e,t,a){if(i(e),a=a||{},void 0===t)return this.deleteKey(e),t;if(y.isXML(t))t={_is_xml:!0,xml:y.encode(t)};else{if("function"==typeof t)return;t&&"object"==typeof t&&(t=_.parse(_.stringify(t)))}l[e]=t;for(var o,n=l.__jstorage_meta.CRC32,s=_.stringify(t),g=s.length,u=2538058380^g,c=0;4<=g;)o=1540483477*(65535&(o=255&s.charCodeAt(c)|(255&s.charCodeAt(++c))<<8|(255&s.charCodeAt(++c))<<16|(255&s.charCodeAt(++c))<<24))+((1540483477*(o>>>16)&65535)<<16),u=1540483477*(65535&u)+((1540483477*(u>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),g-=4,++c;switch(g){case 3:u^=(255&s.charCodeAt(c+2))<<16;case 2:u^=(255&s.charCodeAt(c+1))<<8;case 1:u=1540483477*(65535&(u^=255&s.charCodeAt(c)))+((1540483477*(u>>>16)&65535)<<16)}return u=1540483477*(65535&(u^=u>>>13))+((1540483477*(u>>>16)&65535)<<16),n[e]="2."+((u^u>>>15)>>>0),this.setTTL(e,a.TTL||0),r(e,"updated"),t},get:function(e,t){return i(e),e in l?l[e]&&"object"==typeof l[e]&&l[e]._is_xml?y.decode(l[e].xml):l[e]:void 0===t?null:t},deleteKey:function(e){return i(e),e in l&&(delete l[e],"object"==typeof l.__jstorage_meta.TTL&&e in l.__jstorage_meta.TTL&&delete l.__jstorage_meta.TTL[e],delete l.__jstorage_meta.CRC32[e],n(),a(),r(e,"deleted"),!0)},setTTL:function(e,t){var r=+new Date;return i(e),t=Number(t)||0,e in l&&(l.__jstorage_meta.TTL||(l.__jstorage_meta.TTL={}),0<t?l.__jstorage_meta.TTL[e]=r+t:delete l.__jstorage_meta.TTL[e],n(),s(),a(),!0)},getTTL:function(e){var t=+new Date;return i(e),e in l&&l.__jstorage_meta.TTL&&l.__jstorage_meta.TTL[e]&&(e=l.__jstorage_meta.TTL[e]-t)||0},flush:function(){return l={__jstorage_meta:{CRC32:{}}},n(),a(),r(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=l,new e},index:function(){var e,t=[];for(e in l)l.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return S},currentBackend:function(){return j},storageAvailable:function(){return!!j},listenKeyChange:function(e,t){i(e),w[e]||(w[e]=[]),w[e].push(t)},stopListening:function(e,t){if(i(e),w[e])if(t)for(var r=w[e].length-1;0<=r;r--)w[e][r]==t&&w[e].splice(r,1);else delete w[e]},subscribe:function(e,t){if(!(e=(e||"").toString()))throw new TypeError("Channel not defined");p[e]||(p[e]=[]),p[e].push(t)},publish:function(e,t){if(!(e=(e||"").toString()))throw new TypeError("Channel not defined");l.__jstorage_meta||(l.__jstorage_meta={}),l.__jstorage_meta.PubSub||(l.__jstorage_meta.PubSub=[]),l.__jstorage_meta.PubSub.unshift([+new Date,e,t]),n(),a()},reInit:function(){e()},noConflict:function(e){return delete window.$.jStorage,e&&(window.jStorage=this),this}},function(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(e)try{window.localStorage&&(d=window.localStorage,j="localStorage",m=d.jStorage_update)}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(d="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],j="globalStorage",m=d.jStorage_update)}catch(e){}else{if(!(f=document.createElement("link")).addBehavior)return void(f=null);f.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(f);try{f.load("jStorage")}catch(e){f.setAttribute("jStorage","{}"),f.save("jStorage"),f.load("jStorage")}e="{}";try{e=f.getAttribute("jStorage")}catch(e){}try{m=f.getAttribute("jStorage_update")}catch(e){}d.jStorage=e,j="userDataBehavior"}o(),s(),"localStorage"==j||"globalStorage"==j?"addEventListener"in window?window.addEventListener("storage",t,!1):document.attachEvent("onstorage",t):"userDataBehavior"==j&&setInterval(t,1e3),g(),"addEventListener"in window&&window.addEventListener("pageshow",(function(e){e.persisted&&t()}),!1)}()}();